{"ast":null,"code":"export const getUserMetadata = async user => {\n  const domain = \"kovidr.eu.auth0.com\";\n\n  try {\n    const accessToken = await getAccessTokenSilently({\n      audience: `https://${domain}/api/v2/`,\n      scope: \"read:current_user\"\n    });\n    const userDetailsByIdUrl = `https://${domain}/api/v2/users/${user.sub}`;\n    const metadataResponse = await fetch(userDetailsByIdUrl, {\n      headers: {\n        Authorization: `Bearer ${accessToken}`\n      }\n    });\n    const {\n      user_metadata\n    } = await metadataResponse.json();\n    setUserMetadata(user_metadata);\n  } catch (e) {\n    console.log(e.message);\n  }\n};","map":{"version":3,"sources":["/Users/rhyswaters/repos/KovidR.UI/src/helpers/auth0.js"],"names":["getUserMetadata","user","domain","accessToken","getAccessTokenSilently","audience","scope","userDetailsByIdUrl","sub","metadataResponse","fetch","headers","Authorization","user_metadata","json","setUserMetadata","e","console","log","message"],"mappings":"AAAA,OAAO,MAAMA,eAAe,GAAG,MAAOC,IAAP,IAAgB;AAC3C,QAAMC,MAAM,GAAG,qBAAf;;AAEA,MAAI;AACF,UAAMC,WAAW,GAAG,MAAMC,sBAAsB,CAAC;AAC/CC,MAAAA,QAAQ,EAAG,WAAUH,MAAO,UADmB;AAE/CI,MAAAA,KAAK,EAAE;AAFwC,KAAD,CAAhD;AAKA,UAAMC,kBAAkB,GAAI,WAAUL,MAAO,iBAAgBD,IAAI,CAACO,GAAI,EAAtE;AAEA,UAAMC,gBAAgB,GAAG,MAAMC,KAAK,CAACH,kBAAD,EAAqB;AACvDI,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAAST,WAAY;AAD9B;AAD8C,KAArB,CAApC;AAMA,UAAM;AAAEU,MAAAA;AAAF,QAAoB,MAAMJ,gBAAgB,CAACK,IAAjB,EAAhC;AAEAC,IAAAA,eAAe,CAACF,aAAD,CAAf;AACD,GAjBD,CAiBE,OAAOG,CAAP,EAAU;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,OAAd;AACD;AACF,CAvBI","sourcesContent":["export const getUserMetadata = async (user) => {\n    const domain = \"kovidr.eu.auth0.com\";\n\n    try {\n      const accessToken = await getAccessTokenSilently({\n        audience: `https://${domain}/api/v2/`,\n        scope: \"read:current_user\",\n      });\n\n      const userDetailsByIdUrl = `https://${domain}/api/v2/users/${user.sub}`;\n\n      const metadataResponse = await fetch(userDetailsByIdUrl, {\n        headers: {\n          Authorization: `Bearer ${accessToken}`,\n        },\n      });\n\n      const { user_metadata } = await metadataResponse.json();\n\n      setUserMetadata(user_metadata);\n    } catch (e) {\n      console.log(e.message);\n    }\n  };"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useAuth0 } from \"@auth0/auth0-react\";\nexport const GetUserMetadata = async () => {\n  _s();\n\n  const {\n    user,\n    getAccessTokenSilently\n  } = useAuth0();\n  const domain = \"kovidr.eu.auth0.com\";\n\n  try {\n    const accessToken = await getAccessTokenSilently({\n      audience: `https://${domain}/api/v2/`,\n      scope: \"read:current_user\"\n    });\n    const userDetailsByIdUrl = `https://${domain}/api/v2/users/${user.sub}`;\n    const metadataResponse = await fetch(userDetailsByIdUrl, {\n      headers: {\n        Authorization: `Bearer ${accessToken}`\n      }\n    });\n    const {\n      user_metadata\n    } = await metadataResponse.json();\n    return user_metadata;\n  } catch (e) {\n    console.log(e.message);\n  }\n};\n\n_s(GetUserMetadata, \"qL/oYWsfOr4iYalZB6CBaBv0qh0=\", false, function () {\n  return [useAuth0];\n});\n\n_c = GetUserMetadata;\n\nvar _c;\n\n$RefreshReg$(_c, \"GetUserMetadata\");","map":{"version":3,"sources":["/Users/rhyswaters/repos/KovidR.UI/src/helpers/auth0.js"],"names":["useAuth0","GetUserMetadata","user","getAccessTokenSilently","domain","accessToken","audience","scope","userDetailsByIdUrl","sub","metadataResponse","fetch","headers","Authorization","user_metadata","json","e","console","log","message"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,oBAAzB;AAEA,OAAO,MAAMC,eAAe,GAAG,YAAY;AAAA;;AACvC,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAmCH,QAAQ,EAAjD;AACA,QAAMI,MAAM,GAAG,qBAAf;;AAEA,MAAI;AACF,UAAMC,WAAW,GAAG,MAAMF,sBAAsB,CAAC;AAC/CG,MAAAA,QAAQ,EAAG,WAAUF,MAAO,UADmB;AAE/CG,MAAAA,KAAK,EAAE;AAFwC,KAAD,CAAhD;AAKA,UAAMC,kBAAkB,GAAI,WAAUJ,MAAO,iBAAgBF,IAAI,CAACO,GAAI,EAAtE;AAEA,UAAMC,gBAAgB,GAAG,MAAMC,KAAK,CAACH,kBAAD,EAAqB;AACvDI,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAASR,WAAY;AAD9B;AAD8C,KAArB,CAApC;AAMA,UAAM;AAAES,MAAAA;AAAF,QAAoB,MAAMJ,gBAAgB,CAACK,IAAjB,EAAhC;AAEA,WAAOD,aAAP;AACD,GAjBD,CAiBE,OAAOE,CAAP,EAAU;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,OAAd;AACD;AACF,CAxBI;;GAAMlB,e;UACgCD,Q;;;KADhCC,e","sourcesContent":["import { useAuth0 } from \"@auth0/auth0-react\";\n\nexport const GetUserMetadata = async () => {\n    const { user, getAccessTokenSilently } = useAuth0();\n    const domain = \"kovidr.eu.auth0.com\";\n\n    try {\n      const accessToken = await getAccessTokenSilently({\n        audience: `https://${domain}/api/v2/`,\n        scope: \"read:current_user\",\n      });\n\n      const userDetailsByIdUrl = `https://${domain}/api/v2/users/${user.sub}`;\n\n      const metadataResponse = await fetch(userDetailsByIdUrl, {\n        headers: {\n          Authorization: `Bearer ${accessToken}`,\n        },\n      });\n\n      const { user_metadata } = await metadataResponse.json();\n\n      return user_metadata;\n    } catch (e) {\n      console.log(e.message);\n    }\n  };"]},"metadata":{},"sourceType":"module"}